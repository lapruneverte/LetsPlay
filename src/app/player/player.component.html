<div *ngIf="cardBackside">
    <div class="row">
        <div class="col-6">
            <div class="center">Draw pile {{player.deck.length}}</div>
            <div class="deck center">
                <app-deck [cards]="player.deck" [reverseImage]="cardBackside.link" (onPick)="putCardInHand($event)"></app-deck>
            </div>
        </div>
        <div class="col-6">
            <div class="center">Discard pile {{player.played.length}}</div>
            <div class="deck center">
                <app-deck [cards]="player.played" [enabled]="false"></app-deck>
            </div>
            <div class="center">
                <button class="btn btn-primary" (click)="shuffle()">Shuffle</button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="center">Hand {{player.inHand.length}}</div>
        <div class="cards-container">
            <app-card *ngFor="let card of player.inHand; let i = index" (click)="showMenu($event, i)" [cardImage]="card.link"></app-card>
        </div>
    </div>
    <div class="row">
        <div class="center">Preview {{player.preview.length}}</div>
        <div class="cards-container">
            <app-card *ngFor="let card of player.preview; let i = index" (click)="moveFromPreviewToHand(i)" [cardImage]="card.link"></app-card>
        </div>
        <button class="btn btn-primary btn-block" (click)="play()">Confirm</button>
    </div>
</div>

<ul (clickOutside)="onClickOutsideMenu($event)" id="context1" class="dropdown-menu menu" [ngClass]="isMenuVisible ? 'show' : ''" [ngStyle]="{'left': menuX + 'px', 'top': menuY + 'px', 'position':'fixed'}">
    <li><a role="button" class="dropdown-item" (click)="moveFromHandToPreview()">Play</a></li>
    <li><a role="button" class="dropdown-item" (click)="moveFromInHandToDeck()">To Deck</a></li>
    <li><a role="button" class="dropdown-item" (click)="zoomImage()">Zoom</a></li>
</ul>

<div (click)="closeZoom()" *ngIf="zoom" class="zoom-image-container" [ngStyle]="{'left': menuX + 'px', 'top': menuY + 'px'}">
    <img [src]=zoomImageSrc>
</div>
